webpackJsonp([0],{"+Kyw":function(t,a){},"7Son":function(t,a){},BO1k:function(t,a,s){t.exports={default:s("fxRn"),__esModule:!0}},F9yL:function(t,a){},GEu2:function(t,a){},GWk3:function(t,a){},GwIj:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7+uW"),i=s("PBVb"),n=s("XbH7"),c=s("Au9i"),r=s("BO1k"),o=s.n(r),l=s("YtJ0"),u=(s("YaEn"),{props:["cdata"],data:function(){return{num:l.a.state.detail.carnum,carNum:1,price:"0.00",inventory:"",selected:"",thumb:""}},mounted:function(){this.selecteds()},methods:{selecteds:function(){this.selected="";var t=this.cdata.pdata.attrName,a="",s=!0,e=!1,i=void 0;try{for(var n,c=o()(t);!(s=(n=c.next()).done);s=!0){var r=n.value;this.selected+='"'+r.value[r.active]+'" ',a+=r.active.toString()}}catch(t){e=!0,i=t}finally{try{!s&&c.return&&c.return()}finally{if(e)throw i}}var l=this.cdata.pdata.attrValue.find(function(t){return t.gindex==a});this.inventory=l.inventory,this.price=l.price,this.thumb=l.thumb},onReduce:function(){!(this.carNum>1)||this.carNum--},onIncrease:function(){this.carNum++},attrChose:function(t,a){this.cdata.pdata.attrName[t].active=a,this.selecteds()},goOrder:function(){this.$closes(),this.$router.push("/order")},onAddCar:function(){Object(c.Toast)({message:"加入购物车成功",iconClass:"add-yes"}),this.num++,l.a.commit("SET_CARNUM",this.num),this.$closes()}}}),v={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"orderBox",attrs:{id:"orderBox"}},[s("div",{staticClass:"orderSend"},["obuy"==t.cdata.otype?s("button",{staticClass:"btn buy",on:{click:t.goOrder}},[t._v("确定")]):t._e(),t._v(" "),"ocar"==t.cdata.otype?s("a",{staticClass:"btn",attrs:{href:"javascript:void(0);"},on:{click:t.onAddCar}},[t._v("确定")]):t._e(),t._v(" "),s("a",{staticClass:"btn selectadd",staticStyle:{display:"none"},attrs:{href:"javascript:void(0);"}},[t._v("加入购物车")]),t._v(" "),s("a",{staticClass:"btn selectbuy",staticStyle:{display:"none"},attrs:{href:"order.html"}},[t._v("立即购买")])]),t._v(" "),s("div",{staticClass:"hd"},[s("span",{staticClass:"close",on:{click:t.$closes}}),t._v(" "),s("div",{staticClass:"imgbox"},[s("img",{attrs:{src:t.thumb}})]),t._v(" "),s("div",{staticClass:"content"},[s("p",{staticClass:"price red"},[t._v("¥"+t._s(t.price))]),t._v(" "),s("p",{staticClass:"text"},[t._v("库存 : "+t._s(t.inventory))]),t._v(" "),s("p",{staticClass:"text"},[t._v("已选 : "+t._s(t.selected))])])]),t._v(" "),s("div",{staticClass:"modalScrollBox",attrs:{id:"orderScroll"}},[s("div",{staticClass:"mui-scroll"},[s("div",{staticClass:"orderWrap"},[t._l(t.cdata.pdata.attrName,function(a,e){return s("div",{staticClass:"orderItem"},[s("div",{staticClass:"orderItemTit"},[t._v(t._s(a.name))]),t._v(" "),s("ul",{staticClass:"orderAttrlist clearfix"},t._l(a.value,function(i,n){return s("li",{class:{active:n==a.active},on:{click:function(a){t.attrChose(e,n)}}},[s("a",{staticClass:"tap",attrs:{href:"javascript:void(0)"}},[t._v(t._s(i))])])}))])}),t._v(" "),s("div",{staticClass:"buyamount"},[s("div",{staticClass:"bts"},[t._v("购买数量")]),t._v(" "),s("div",{staticClass:"amount"},[s("span",{staticClass:"Reduce",class:{ReduceNot:t.carNum<2},on:{click:t.onReduce}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.carNum,expression:"carNum"}],attrs:{type:"number",value:"1"},domProps:{value:t.carNum},on:{input:function(a){a.target.composing||(t.carNum=a.target.value)}}}),t._v(" "),s("span",{staticClass:"Increase",on:{click:t.onIncrease}})])])],2)])])])},staticRenderFns:[]};var d=s("VU/8")(u,v,!1,function(t){s("YR3o"),s("I1k4")},"data-v-4ec0914a",null).exports;e.default.use(n.a);var p={props:["baseData"],data:function(){return{opts:{isClose:!1,direction:"bottom",domStyle:{top:"3rem",bottom:"0px"},content:d,cdata:{id:0,otype:"obuy",pdata:{}}}}},methods:{collect:function(t){this.isColect?this.$store.commit("SET_COLECT",!1):(this.$store.commit("SET_COLECT",!0),Object(c.Toast)({message:"收藏成功",iconClass:"colect-yes"}))},addcar:function(){this.opts.cdata.otype="ocar",this.$mySideslip(this.opts)},nowbuy:function(){this.opts.cdata.otype="obuy",this.$mySideslip(this.opts)}},computed:{isColect:function(){return this.$store.state.detail.isColect}},mounted:function(){},watch:{baseData:function(t,a){this.opts.cdata.pdata=t}}},_={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("footer",{staticClass:"rnui-footer"},[s("div",{staticClass:"order-bar"},[s("router-link",{staticClass:"obtn",attrs:{to:"/chat"}},[s("i",{staticClass:"iconfont icon-p-kefu"}),t._v(" "),s("p",[t._v("咨询")])]),t._v(" "),s("router-link",{staticClass:"obtn",attrs:{to:"/shop"}},[s("i",{staticClass:"iconfont icon-p-shop"}),t._v(" "),s("p",[t._v("店铺")])]),t._v(" "),s("div",{staticClass:"obtn",class:{active:t.isColect},on:{click:t.collect}},[s("i",{staticClass:"iconfont icon-p-fav"}),t._v(" "),s("p",[t._v("收藏")])]),t._v(" "),s("span",{staticClass:"btn addCarBtn",on:{click:t.addcar}},[t._v("加入购物车")]),t._v(" "),s("span",{staticClass:"btn",on:{click:t.nowbuy}},[t._v("立即购买")])],1)])},staticRenderFns:[]};var f=s("VU/8")(p,_,!1,function(t){s("W5Jq"),s("7Son")},"data-v-02159b09",null).exports,m=s("ibnl"),h=s.n(m);s("tOCg");e.default.use(h.a);var C={props:{swipeData:{type:Array,default:function(){return[]}}}},b={render:function(){var t=this.$createElement,a=this._self._c||t;return a("mt-swipe",{attrs:{auto:4e3}},this._l(this.swipeData,function(t,s){return a("mt-swipe-item",{key:t.id},[a("img",{staticClass:"mint-swipe-img",attrs:{src:t.imgs,preview:"f1"}})])}))},staticRenderFns:[]};var y=s("VU/8")(C,b,!1,function(t){s("WHDU"),s("+Kyw")},"data-v-78eb1212",null).exports,g=s("fVSL");e.default.use(n.a);var D={props:{baseData:{type:Object,default:function(){return{}}}},data:function(){return{opts:{isClose:!1,direction:"bottom",domStyle:{background:"rgba(255,255,255,.9)"},content:g.a}}},mounted:function(){},methods:{share:function(){this.$mySideslip(this.opts)}}},k={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"show-info"},[s("div",{staticClass:"hd"},[s("h2",{staticClass:"name"},[t._v(t._s(t.baseData.name))]),t._v(" "),s("span",{staticClass:"share",on:{click:t.share}})]),t._v(" "),s("div",{staticClass:"price"},[s("span",{staticClass:"unit red"},[t._v("¥")]),t._v(" "),s("span",{staticClass:"nPrice red"},[t._v(t._s(t.baseData.nPrice))]),t._v(" "),s("span",{staticClass:"oPrice"},[t._v("¥"+t._s(t.baseData.oPrice))]),t._v(" "),s("span",{staticClass:"num"},[t._v("月销量："+t._s(t.baseData.vSales))])])])},staticRenderFns:[]};var x=s("VU/8")(D,k,!1,function(t){s("GWk3")},"data-v-240be80e",null).exports,w={props:{promotionsData:{type:Array,default:function(){return[]}}}},S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"promotions mt10 active",attrs:{id:"promotions"}},[s("div",{staticClass:"tit"},[s("span",{staticClass:"name"},[t._v("促销")]),t._v(" "),s("span",{staticClass:"name-dsp"},[t._v("可享受以下促销")]),t._v(" "),s("span",{staticClass:"iconfont icon-a12b"})]),t._v(" "),s("ul",[s("li",{staticClass:"item"},[s("span",{staticClass:"label"},[t._v("满送")]),t._v(" "),s("span",{staticClass:"name"},[t._v("满19元即赠送热销商品，赠完为止")])]),t._v(" "),s("li",{staticClass:"item"},[s("span",{staticClass:"label"},[t._v("满减")]),t._v(" "),s("span",{staticClass:"name"},[t._v("单笔订单满200元，送10元现金券")])])])])}]};var $=s("VU/8")(w,S,!1,function(t){s("fDtx")},"data-v-f7d6bcfe",null).exports,R=s("RDjP"),E={props:{detailsData:String}},T={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"details box mt10 clearfix"},[this._m(0),this._v(" "),a("div",{staticClass:"content",domProps:{innerHTML:this._s(this.detailsData)}})])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"idx-tit bbline"},[a("span",{staticClass:"name"},[this._v("图文详情")])])}]};var N=s("VU/8")(E,T,!1,function(t){s("F9yL")},null,null).exports,A=(s("VgY8"),{components:{"v-header":i.a,"v-orderBar":f,"v-swipe":y,"v-base":x,"v-promotions":$,"v-evaluate":R.a,"v-details":N},data:function(){return{header:{back:{isBack:!0},isTrans:!0},detailData:[],Rname:this.$route.name}},computed:{carnum:function(){return this.$store.state.detail.carnum}},methods:{onScroll:function(){document.addEventListener("scroll",function(t){var a=document.documentElement.scrollTop,s=.75-a/300<.75?.75-a/300:.75;document.querySelector(".rnui-header").style.background="rgba(255,39,65,"+a/300+")",document.querySelector(".rnui-header-back").style.background="rgba(0,0,0,"+s+")",document.querySelector(".h-nav").style.opacity=a/300,document.querySelector(".h-car").style.background="rgba(0,0,0,"+s+")"},!1)}},mounted:function(){},beforeCreate:function(){var t=this;this.$api({method:"post",url:"/detail"}).then(function(a){var s=a.data.detail.evaluateData.evaluateList.length-1;a.data.detail.evaluateData.evaluateList.splice(1,s),t.detailData=a.data.detail}).catch(function(t){console.log(t)})},beforeDestroy:function(){}}),U={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"detail"}},[s("v-header",{attrs:{header:t.header}},[s("div",{staticClass:"runi-slot",attrs:{slot:"rnui-opn"},slot:"rnui-opn"},[s("div",{staticClass:"h-nav"},[s("div",{staticClass:"item"},[s("router-link",{staticClass:"tap",attrs:{to:"/detail"}},[t._v("详情")])],1),t._v(" "),s("div",{staticClass:"item"},[s("router-link",{staticClass:"tap",attrs:{to:"/evaluate"}},[t._v("评论")])],1)]),t._v(" "),s("router-link",{staticClass:"h-car",attrs:{to:"/car"}},[s("span",{staticClass:"carnum"},[t._v(t._s(t.carnum))])])],1)]),t._v(" "),s("v-orderBar",{attrs:{baseData:t.detailData.baseData}}),t._v(" "),s("div",{staticClass:"rnui-content"},[s("v-swipe",{attrs:{swipeData:t.detailData.swipeData}}),t._v(" "),s("v-base",{attrs:{baseData:t.detailData.baseData}}),t._v(" "),s("v-promotions"),t._v(" "),s("v-evaluate",{attrs:{evaluateData:t.detailData.evaluateData}},[s("div",{staticClass:"evaluateAll",attrs:{slot:"evaluateAll"},slot:"evaluateAll"},[s("router-link",{staticClass:"btn btn-outlined",attrs:{to:"evaluate"}},[t._v("查看全部评价")])],1)]),t._v(" "),s("v-details",{attrs:{detailsData:t.detailData.detailsData}})],1)],1)},staticRenderFns:[]};var O=s("VU/8")(A,U,!1,function(t){s("GEu2")},"data-v-e3db9598",null);a.default=O.exports},I1k4:function(t,a){},RDjP:function(t,a,s){"use strict";var e=s("7+uW"),i=s("ibnl"),n=s.n(i);s("tOCg");e.default.use(n.a);var c={props:{evaluateData:{type:Object,default:function(){return{}}}},data:function(){return{tagsActive:0}},methods:{changeTags:function(t){this.tagsActive=t}},mounted:function(){this.$previewRefresh()}},r={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"evaluate mt10"},[s("div",{staticClass:"evaluateTit"},[t._v("产品评价("+t._s(t.evaluateData.evaluateNum)+")")]),t._v(" "),s("ul",{staticClass:"evaluateTags"},t._l(t.evaluateData.evaluateTags,function(a,e){return s("li",{class:{item:a,active:e==t.tagsActive},on:{click:function(a){t.changeTags(e)}}},[s("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(a.name)+"("+t._s(a.num)+")")])])})),t._v(" "),s("ul",{staticClass:"evaluateList"},t._l(t.evaluateData.evaluateList,function(a,e){return s("li",{staticClass:"item"},[s("div",{staticClass:"hd"},[s("img",{staticClass:"avatar",attrs:{src:a.avatar}}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(a.name))]),t._v(" "),s("div",{staticClass:"level icon-level"},[s("i",{staticClass:"icon-level",style:{width:a.score/5*100+"%;"}})])]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(a.content))]),t._v(" "),a.imgs.length>0?s("dl",{staticClass:"evaluateImgs"},t._l(a.imgs,function(t){return s("dd",{staticClass:"thumb"},[s("img",{attrs:{src:t.thumb,preview:e}})])})):t._e(),t._v(" "),s("div",{staticClass:"attr"},[s("span",[t._v(t._s(a.dates))]),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(a.attrs))])])])})),t._v(" "),t._t("evaluateAll")],2)},staticRenderFns:[]};var o=s("VU/8")(c,r,!1,function(t){s("eCpd")},"data-v-19c1759e",null);a.a=o.exports},W5Jq:function(t,a){},WHDU:function(t,a){},YR3o:function(t,a){},eCpd:function(t,a){},fDtx:function(t,a){},fxRn:function(t,a,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,a,s){var e=s("77Pl"),i=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var a=i(t);if("function"!=typeof a)throw TypeError(t+" is not iterable!");return e(a.call(t))}}});
//# sourceMappingURL=0.017726aeb7181fc6b123.js.map