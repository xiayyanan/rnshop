webpackJsonp([3],{"1E0x":function(t,s){},"7L+k":function(t,s){},"80bi":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("7+uW"),e=a("XbH7"),n=a("PBVb"),c=a("Z7ab"),o=a("dqLd"),r={data:function(){return{isSort:!1,isFilter:!1,sorted:"综合",isPrice:""}},mounted:function(){var t=this;o.a.$on("sorted",function(s){t.sorted=s})},methods:{onSort:function(){o.a.$emit("isSort",!0),this.$set(this.$data,"isSort",!0),this.$emit("getSort",this.isSort)},onFilter:function(){this.$emit("getFilter",this.isFilter)},onPrice:function(){""==this.isPrice?this.$set(this.$data,"isPrice","asc"):"asc"==this.isPrice?this.$set(this.$data,"isPrice","desc"):this.$set(this.$data,"isPrice","")}}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"filter-bar"},[a("ul",{staticClass:"fb-nav"},[a("li",{staticClass:"tab",class:{active:t.isSort},on:{click:t.onSort}},[a("span",{staticClass:"tap arrow"},[t._v(t._s(t.sorted))])]),t._v(" "),t._m(0),t._v(" "),a("li",{staticClass:"tab",class:[t.isPrice],on:{click:t.onPrice}},[t._m(1)]),t._v(" "),a("li",{staticClass:"tab",on:{click:t.onFilter}},[a("span",{staticClass:"tap"},[t._v("筛选")])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"tab"},[s("span",{staticClass:"tap"},[this._v("销量")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"tap"},[this._v("价格"),s("i",{staticClass:"arrows"})])}]};var d=a("VU/8")(r,l,!1,function(t){a("7L+k"),a("1E0x")},"data-v-4a9f04f6",null).exports,h={props:["cdata"],data:function(){return{sortData:[{name:"综合"},{name:"人气"},{name:"新品"}]}},methods:{changeSort:function(t){o.a.$emit("sorted",this.sortData[t].name),o.a.$emit("isClose",!1),o.a.$emit("isSort",!1)}}},u={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"sort"},[a("ul",{staticClass:"sortList"},t._l(t.sortData,function(s,i){return a("li",{staticClass:"item",class:{active:s.name==t.cdata.sorted},on:{click:function(s){t.changeSort(i)}}},[t._v(t._s(s.name))])}))])},staticRenderFns:[]};var f=a("VU/8")(h,u,!1,function(t){a("clB3")},"data-v-11baa5d4",null).exports,v={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"filterBox"},[a("div",{staticClass:"filterScroll"},[t._m(0),t._v(" "),a("div",{staticClass:"filter-item"},[t._m(1),t._v(" "),a("ul",{staticClass:"brand-list"},t._l(t.cdata.brandData,function(s,i){return a("li",{staticClass:"item",class:{active:s.active},on:{click:function(s){t.onBrand(i)}}},[a("div",{staticClass:"tap"},[a("img",{staticClass:"logo",attrs:{src:s.logo}})])])}))]),t._v(" "),a("div",{staticClass:"filter-item"},[t._m(2),t._v(" "),a("ul",{staticClass:"category-list"},t._l(t.cdata.categoryData,function(s,i){return a("li",{staticClass:"item",class:{active:s.active},on:{click:function(s){t.onCategory(i)}}},[a("div",{staticClass:"tap"},[t._v(t._s(s.name))])])}))])]),t._v(" "),t._m(3)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"filter-item"},[s("div",{staticClass:"filter-item-tit"},[this._v("价格区间(元)")]),this._v(" "),s("div",{staticClass:"filter-price"},[s("span",{staticClass:"input-box"},[s("input",{staticClass:"input-txt",attrs:{type:"text",placeholder:"最低价"}})]),this._v(" "),s("span",{staticClass:"to"},[this._v("—")]),this._v(" "),s("span",{staticClass:"input-box"},[s("input",{staticClass:"input-txt",attrs:{type:"text",placeholder:"最高价"}})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"filter-item-tit"},[s("span",[this._v("品牌")]),this._v(" "),s("i",{staticClass:"iconfont icon-a12b"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"filter-item-tit"},[s("span",[this._v("类别")]),this._v(" "),s("i",{staticClass:"iconfont icon-a12b"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"filterOpn"},[s("li",[s("button",{staticClass:"btn bbgf"},[this._v("重置")])]),this._v(" "),s("li",[s("button",{staticClass:"btn"},[this._v("确认")])])])}]};var p=a("VU/8")({props:["cdata"],data:function(){return{}},methods:{onBrand:function(t){var s=this;this.cdata.brandData.forEach(function(t){s.$set(t,"active",!1)}),this.$set(this.cdata.brandData[t],"active",!0)},onCategory:function(t){var s=this;this.cdata.categoryData.forEach(function(t){s.$set(t,"active",!1)}),this.$set(this.cdata.categoryData[t],"active",!0)}}},v,!1,function(t){a("n8HT")},"data-v-502b36e2",null).exports;a("VgY8");i.default.use(e.a);var _={components:{"v-header":n.a,"v-bar":d,"v-list":c.a},data:function(){return{header:{title:"商品列表",back:{isBack:!0}},isSort:!1,sortOpt:{isClose:!1,direction:"top",domStyle:{top:"84px",zIndex:100},bgStyle:{zIndex:99},content:f,cdata:{sorted:""}},filterOpt:{isClose:!1,direction:"right",domStyle:{top:0,width:"auto",left:"44px",zIndex:300},bgStyle:{zIndex:299},content:p,cdata:{brandData:[],categoryData:[]}},goodsData:[]}},mounted:function(){var t=this;o.a.$on("isSort",function(s){t.$set(t.$data,"isSort",s),t.onSort()}),o.a.$on("sorted",function(s){t.$set(t.$data.sortOpt.cdata,"sorted",s)})},methods:{onSort:function(){this.isSort?this.$mySideslip(this.sortOpt):this.$closes()},onFilter:function(){this.$mySideslip(this.filterOpt)}},beforeCreate:function(){var t=this;this.$api({method:"post",url:"/list"}).then(function(s){t.goodsData=s.data.list.goodsData}).catch(function(t){console.log(t)}),this.$api({method:"post",url:"/myShop"}).then(function(s){t.$set(t.filterOpt.cdata,"brandData",s.data.myShop.myShopData)}).catch(function(t){console.log(t)}),this.$api({method:"post",url:"/category"}).then(function(s){var a=[];s.data.category.forEach(function(t,s){a.push({name:t.name})}),t.$set(t.filterOpt.cdata,"categoryData",a)}).catch(function(t){console.log(t)})}},m={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"list"}},[s("v-header",{attrs:{header:this.header}}),this._v(" "),s("v-bar",{on:{getSort:this.onSort,getFilter:this.onFilter}}),this._v(" "),s("div",{staticClass:"rnui-content"},[s("v-list",{attrs:{goodsData:this.goodsData}})],1)],1)},staticRenderFns:[]};var C=a("VU/8")(_,m,!1,function(t){a("hfSV")},"data-v-4d4afbb8",null);s.default=C.exports},clB3:function(t,s){},hfSV:function(t,s){},n8HT:function(t,s){}});
//# sourceMappingURL=3.5233dddf8eebab2d1464.js.map